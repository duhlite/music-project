{"ast":null,"code":"import _classCallCheck from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/DuhLite/Documents/music-search/client/src/App.js\";\nimport React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { logIn as _logIn } from \"./actions/index\";\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport MainSearch from './components/search';\nimport PlaylistCreator from './components/playlist-creator';\nvar styles = {\n  root: {\n    flexGrow: 1\n  },\n  grow: {\n    flexGrow: 1\n  }\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loggedin: state.loggedin,\n    accessToken: state.accessToken\n  };\n};\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    logIn: function logIn(login) {\n      return dispatch(_logIn(login));\n    }\n  };\n}\n\nfunction getHashParams() {\n  var hashParams = {};\n  var e,\n      r = /([^&;=]+)=?([^&;]*)/g,\n      q = window.location.hash.substring(1);\n\n  while (e = r.exec(q)) {\n    hashParams[e[1]] = decodeURIComponent(e[2]);\n  }\n\n  return hashParams;\n}\n\nfunction checkUrl() {\n  var params = getHashParams();\n  var accessToken = params.access_token;\n\n  if (!accessToken) {\n    return false;\n  } else {\n    return accessToken;\n  }\n}\n\nvar ConnectedApp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ConnectedApp, _Component);\n\n  function ConnectedApp(props) {\n    var _this;\n\n    _classCallCheck(this, ConnectedApp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ConnectedApp).call(this, props));\n\n    _this.onClick = function () {\n      axios.post('/login').then(function (res) {\n        console.log(res.data);\n        window.open(res.data, '_self');\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.onClick = _this.onClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ConnectedApp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var accessToken = checkUrl();\n      accessToken ? this.props.logIn({\n        loggedIn: true,\n        accessToken: accessToken\n      }) : this.props.logIn({\n        loggedIn: false,\n        accessToken: null\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      return React.createElement(Router, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(AppBar, {\n        position: \"static\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(Toolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"inherit\",\n        component: Link,\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"What's in a Song\"), React.createElement(Button, {\n        color: \"inherit\",\n        component: Link,\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Search\"), React.createElement(Button, {\n        color: \"inherit\",\n        component: Link,\n        to: \"/playlist\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Playlist Creator\"), React.createElement(Button, {\n        color: \"inherit\",\n        onClick: this.onClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, this.props.accessToken ? 'Logged In' : 'Log In'))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/\",\n        exact: true,\n        component: MainSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/playlist\",\n        exact: true,\n        component: PlaylistCreator,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return ConnectedApp;\n}(Component);\n\nConnectedApp.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nvar App = connect(mapStateToProps, mapDispatchToProps)(ConnectedApp);\nexport default withStyles(styles)(App);","map":{"version":3,"sources":["/Users/DuhLite/Documents/music-search/client/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Link","axios","connect","logIn","AppBar","Toolbar","Button","withStyles","PropTypes","MainSearch","PlaylistCreator","styles","root","flexGrow","grow","mapStateToProps","state","loggedin","accessToken","mapDispatchToProps","dispatch","login","getHashParams","hashParams","e","r","q","window","location","hash","substring","exec","decodeURIComponent","checkUrl","params","access_token","ConnectedApp","props","onClick","post","then","res","console","log","data","open","catch","err","bind","loggedIn","classes","propTypes","object","isRequired","App"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {BrowserRouter as Router, Route, Link} from 'react-router-dom';\nimport axios from 'axios';\nimport {connect} from 'react-redux';\nimport { logIn } from \"./actions/index\";\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport {withStyles} from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\n\nimport MainSearch from './components/search';\nimport PlaylistCreator from './components/playlist-creator';\n\nconst styles = {\n  root: {\n    flexGrow: 1,\n  },\n  grow: {\n    flexGrow: 1,\n  }\n};\n\n\nconst mapStateToProps = state => {\n  return {\n    loggedin: state.loggedin,\n    accessToken: state.accessToken\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    logIn:login => dispatch(logIn(login))\n  }\n}\n\nfunction getHashParams() {\n  var hashParams = {};\n  var e, r = /([^&;=]+)=?([^&;]*)/g,\n      q = window.location.hash.substring(1);\n  while ( e = r.exec(q)) {\n     hashParams[e[1]] = decodeURIComponent(e[2]);\n  }\n  return hashParams;\n}\n\nfunction checkUrl() {\n  const params = getHashParams();\n  const accessToken = params.access_token\n  if(!accessToken) {\n      return false\n  } else {\n      return accessToken\n  }\n}\n\nclass ConnectedApp extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n\n  componentDidMount() {\n    const accessToken = checkUrl();\n    accessToken ? this.props.logIn({loggedIn: true, accessToken: accessToken}) : this.props.logIn({loggedIn: false, accessToken: null})\n}\n\n  onClick = () => {\n    axios.post('/login')\n        .then(res => {\n            console.log(res.data);\n            window.open(res.data,'_self');\n        })\n        .catch(err => {\n            console.log(err);\n        })\n}\n  render() {\n    const {classes} = this.props;\n    return (\n      <Router>\n        <div className={classes.root}>\n          <AppBar position='static'>\n            <Toolbar>\n              <Button color='inherit' component={Link} to='/'>\n                What's in a Song\n              </Button>\n              <Button color='inherit' component={Link} to='/'>\n                Search\n              </Button>\n              <Button color='inherit' component={Link} to='/playlist'>\n                Playlist Creator\n              </Button>\n              <Button color='inherit' onClick={this.onClick}>\n                  {this.props.accessToken ? 'Logged In':'Log In'}\n              </Button>\n            </Toolbar>\n          </AppBar>\n          <br />\n          <Route path = '/' exact component={MainSearch} />\n          <Route path='/playlist' exact component={PlaylistCreator} />\n        </div>\n      </Router>\n    );\n  }\n}\n\nConnectedApp.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\n\nconst App = connect(mapStateToProps, mapDispatchToProps)(ConnectedApp);\n\nexport default withStyles(styles)(App);\n"]},"metadata":{},"sourceType":"module"}