{"ast":null,"code":"import _classCallCheck from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/DuhLite/Documents/music-search/client/src/App.js\";\nimport React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { logIn as _logIn } from \"./actions/index\";\nimport MainSearch from './components/search';\nimport PlaylistCreator from './components/playlist-creator';\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loggedin: state.loggedin\n  };\n};\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    logIn: function logIn(login) {\n      return dispatch(_logIn(login));\n    }\n  };\n}\n\nfunction getHashParams() {\n  var hashParams = {};\n  var e,\n      r = /([^&;=]+)=?([^&;]*)/g,\n      q = window.location.hash.substring(1);\n\n  while (e = r.exec(q)) {\n    hashParams[e[1]] = decodeURIComponent(e[2]);\n  }\n\n  return hashParams;\n}\n\nfunction checkUrl() {\n  var params = getHashParams();\n  var accessToken = params.access_token;\n\n  if (!accessToken) {\n    return false;\n  } else {\n    return accessToken;\n  }\n}\n\nvar ConnectedApp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ConnectedApp, _Component);\n\n  function ConnectedApp(props) {\n    var _this;\n\n    _classCallCheck(this, ConnectedApp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ConnectedApp).call(this, props));\n\n    _this.onClick = function () {\n      axios.post('http://localhost:5000/login').then(function (res) {\n        console.log(res.data);\n        window.open(res.data, '_self');\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.onClick = _this.onClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ConnectedApp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var accessToken = checkUrl();\n      accessToken ? this.props.logIn({\n        loggedIn: true,\n        accessToken: accessToken\n      }) : this.props.logIn({\n        loggedIn: false,\n        accessToken: null\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Router, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"nav\", {\n        className: \"navbar navbar-expand-lg navbar-dark bg-dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"navbar-brand\",\n        href: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"What's in a Song\"), React.createElement(\"div\", {\n        className: \"collapse navbar-collapse\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"navbar-nav mr-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"navbar-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        className: \"nav-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Search\")), React.createElement(\"li\", {\n        className: \"navbar-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/playlist\",\n        className: \"nav-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Playlist Creator\")), React.createElement(\"li\", {\n        className: \"navbar-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"button\",\n        value: this.props.loggedin ? 'Logged In' : 'Log In',\n        onClick: this.onClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }))))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/\",\n        exact: true,\n        component: MainSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/playlist\",\n        exact: true,\n        component: PlaylistCreator,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return ConnectedApp;\n}(Component);\n\nvar App = connect(mapStateToProps, mapDispatchToProps)(ConnectedApp);\nexport default App;","map":{"version":3,"sources":["/Users/DuhLite/Documents/music-search/client/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Link","axios","connect","logIn","MainSearch","PlaylistCreator","mapStateToProps","state","loggedin","mapDispatchToProps","dispatch","login","getHashParams","hashParams","e","r","q","window","location","hash","substring","exec","decodeURIComponent","checkUrl","params","accessToken","access_token","ConnectedApp","props","onClick","post","then","res","console","log","data","open","catch","err","bind","loggedIn","App"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {BrowserRouter as Router, Route, Link} from 'react-router-dom';\nimport axios from 'axios';\nimport {connect} from 'react-redux';\nimport { logIn } from \"./actions/index\";\n\nimport MainSearch from './components/search';\nimport PlaylistCreator from './components/playlist-creator';\n\nconst mapStateToProps = state => {\n  return {\n    loggedin: state.loggedin\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    logIn:login => dispatch(logIn(login))\n  }\n}\n\nfunction getHashParams() {\n  var hashParams = {};\n  var e, r = /([^&;=]+)=?([^&;]*)/g,\n      q = window.location.hash.substring(1);\n  while ( e = r.exec(q)) {\n     hashParams[e[1]] = decodeURIComponent(e[2]);\n  }\n  return hashParams;\n}\n\nfunction checkUrl() {\n  const params = getHashParams();\n  const accessToken = params.access_token\n  if(!accessToken) {\n      return false\n  } else {\n      return accessToken\n  }\n}\n\nclass ConnectedApp extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onClick = this.onClick.bind(this)\n  }\n\n  componentDidMount() {\n    const accessToken = checkUrl();\n    accessToken ? this.props.logIn({loggedIn: true, accessToken: accessToken}) : this.props.logIn({loggedIn: false, accessToken: null})\n}\n\n  onClick = () => {\n    axios.post('http://localhost:5000/login')\n        .then(res => {\n            console.log(res.data);\n            window.open(res.data,'_self');\n        })\n        .catch(err => {\n            console.log(err);\n        })\n}\n\n  render() {\n    return (\n      <Router>\n        <div className='container'>\n          <nav className='navbar navbar-expand-lg navbar-dark bg-dark'>\n            <a className='navbar-brand' href='/'>What's in a Song</a>\n            <div className='collapse navbar-collapse'>\n              <ul className='navbar-nav mr-auto'>\n                <li className='navbar-item'>\n                  <Link to='/' className='nav-link'>Search</Link>\n                </li>\n                <li className='navbar-item'>\n                  <Link to='/playlist' className='nav-link'>Playlist Creator</Link>\n                </li>\n                <li className='navbar-item'>\n                <input\n                  type='button'\n                  value={this.props.loggedin ? 'Logged In':'Log In'}\n                  onClick={this.onClick}\n                  />\n                </li>\n              </ul>\n            </div>\n          </nav>\n          <br />\n          <Route path = '/' exact component={MainSearch} />\n          <Route path='/playlist' exact component={PlaylistCreator} />\n        </div>\n      </Router>\n    );\n  }\n}\n\nconst App = connect(mapStateToProps, mapDispatchToProps)(ConnectedApp);\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}