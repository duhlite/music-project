{"ast":null,"code":"import _classCallCheck from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/DuhLite/Documents/music-search/client/src/App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { logIn as _logIn } from \"./actions/index\";\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Grid from '@material-ui/core/Grid';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport MenuIcon from '@material-ui/core/Menu';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport deepPurple from '@material-ui/core/colors/deepPurple';\nimport MainSearch from './components/search';\nimport PlaylistCreator from './components/playlist-creator';\nvar styles = {\n  root: {\n    flexGrow: 1\n  },\n  grow: {\n    flexGrow: 1\n  },\n  navbar: {\n    backgroundColor: deepPurple[500]\n  },\n  list: {\n    width: 200\n  },\n  padding: {\n    paddingRight: 30,\n    cursor: 'pointer'\n  },\n  sideBarIcon: {\n    padding: 0,\n    color: 'white',\n    cursor: 'pointer'\n  }\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loggedin: state.loggedin,\n    accessToken: state.accessToken\n  };\n};\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    logIn: function logIn(login) {\n      return dispatch(_logIn(login));\n    }\n  };\n}\n\nfunction getHashParams() {\n  var hashParams = {};\n  var e,\n      r = /([^&;=]+)=?([^&;]*)/g,\n      q = window.location.hash.substring(1);\n\n  while (e = r.exec(q)) {\n    hashParams[e[1]] = decodeURIComponent(e[2]);\n  }\n\n  return hashParams;\n}\n\nfunction checkUrl() {\n  var params = getHashParams();\n  var accessToken = params.access_token;\n\n  if (!accessToken) {\n    return false;\n  } else {\n    return accessToken;\n  }\n}\n\nvar ConnectedApp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ConnectedApp, _Component);\n\n  function ConnectedApp(props) {\n    var _this;\n\n    _classCallCheck(this, ConnectedApp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ConnectedApp).call(this, props));\n\n    _this.onClick = function () {\n      axios.post('/login').then(function (res) {\n        window.open(res.data, '_self');\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.onClick = _this.onClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      drawerActivate: false,\n      drawer: false,\n      open: false\n    };\n    _this.createDrawer = _this.createDrawer.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.destroyDrawer = _this.destroyDrawer.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ConnectedApp, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      if (window.innerWidth <= 600) {\n        this.setState({\n          drawerActivate: true\n        });\n      }\n\n      window.addEventListener('resize', function () {\n        if (window.innerWidth <= 600) {\n          _this2.setState({\n            drawerActivate: true\n          });\n        } else {\n          _this2.setState({\n            drawerActivate: false\n          });\n        }\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var accessToken = checkUrl();\n      accessToken ? this.props.logIn({\n        loggedIn: true,\n        accessToken: accessToken\n      }) : this.props.logIn({\n        loggedIn: false,\n        accessToken: null\n      });\n    }\n  }, {\n    key: \"createDrawer\",\n    value: function createDrawer() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(AppBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(Toolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        direction: \"row\",\n        justify: \"space-between\",\n        alignItems: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(MenuIcon, {\n        open: this.state.open,\n        className: this.props.classes.sideBarIcon,\n        onClick: function onClick() {\n          _this3.setState({\n            drawer: true,\n            open: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), React.createElement(Typography, {\n        color: \"inherit\",\n        variant: \"headline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"What's in a Song\")))), React.createElement(SwipeableDrawer, {\n        open: this.state.drawer,\n        onClose: function onClose() {\n          _this3.setState({\n            drawer: false\n          });\n        },\n        onOpen: function onOpen() {\n          _this3.setState({\n            drawer: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        tabIndex: 0,\n        role: \"button\",\n        onClick: function onClick() {\n          _this3.setState({\n            drawer: false\n          });\n        },\n        onKeyDown: function onKeyDown() {\n          _this3.setState({\n            drawer: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(List, {\n        className: this.props.classes.list,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(ListItem, {\n        key: 1,\n        button: true,\n        divider: true,\n        component: Link,\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"Main Search\"), React.createElement(ListItem, {\n        key: 2,\n        button: true,\n        divider: true,\n        component: Link,\n        to: \"/playlist\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, \"Playlist Creator\")))));\n    }\n  }, {\n    key: \"destroyDrawer\",\n    value: function destroyDrawer() {\n      var classes = this.props.classes;\n      return React.createElement(AppBar, {\n        position: \"static\",\n        className: classes.navbar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(Toolbar, {\n        color: \"inherit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"inherit\",\n        component: Link,\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"What's in a Song\"), React.createElement(Button, {\n        color: \"inherit\",\n        component: Link,\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \"Search\"), React.createElement(Button, {\n        color: \"inherit\",\n        component: Link,\n        to: \"/playlist\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \"Playlist Creator\"), React.createElement(Button, {\n        color: \"inherit\",\n        onClick: this.onClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, this.props.accessToken ? 'Logged In' : 'Log In')));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      return React.createElement(Router, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, this.state.drawerActivate ? this.createDrawer() : this.destroyDrawer(), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/\",\n        exact: true,\n        component: MainSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/playlist\",\n        exact: true,\n        component: PlaylistCreator,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return ConnectedApp;\n}(Component);\n\nConnectedApp.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nvar App = connect(mapStateToProps, mapDispatchToProps)(ConnectedApp);\nexport default withStyles(styles)(App);","map":{"version":3,"sources":["/Users/DuhLite/Documents/music-search/client/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Link","axios","connect","logIn","AppBar","Toolbar","Button","List","ListItem","Grid","SwipeableDrawer","MenuIcon","Typography","withStyles","PropTypes","deepPurple","MainSearch","PlaylistCreator","styles","root","flexGrow","grow","navbar","backgroundColor","list","width","padding","paddingRight","cursor","sideBarIcon","color","mapStateToProps","state","loggedin","accessToken","mapDispatchToProps","dispatch","login","getHashParams","hashParams","e","r","q","window","location","hash","substring","exec","decodeURIComponent","checkUrl","params","access_token","ConnectedApp","props","onClick","post","then","res","open","data","catch","err","console","log","bind","drawerActivate","drawer","createDrawer","destroyDrawer","innerWidth","setState","addEventListener","loggedIn","classes","propTypes","object","isRequired","App"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {BrowserRouter as Router, Route, Link} from 'react-router-dom';\nimport axios from 'axios';\nimport {connect} from 'react-redux';\nimport { logIn } from \"./actions/index\";\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Grid from '@material-ui/core/Grid';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport MenuIcon from '@material-ui/core/Menu';\nimport Typography from '@material-ui/core/Typography';\nimport {withStyles} from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport deepPurple from '@material-ui/core/colors/deepPurple';\n\nimport MainSearch from './components/search';\nimport PlaylistCreator from './components/playlist-creator';\n\n\nconst styles = {\n  root: {\n    flexGrow: 1,\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  navbar: {\n    backgroundColor: deepPurple[500]\n  },\n  list: {\n    width: 200\n  },\n  padding: {\n    paddingRight: 30,\n    cursor: 'pointer'\n  },\n  sideBarIcon: {\n    padding: 0,\n    color: 'white',\n    cursor: 'pointer'\n  }\n};\n\n\nconst mapStateToProps = state => {\n  return {\n    loggedin: state.loggedin,\n    accessToken: state.accessToken\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    logIn:login => dispatch(logIn(login))\n  }\n}\n\nfunction getHashParams() {\n  var hashParams = {};\n  var e, r = /([^&;=]+)=?([^&;]*)/g,\n      q = window.location.hash.substring(1);\n  while ( e = r.exec(q)) {\n     hashParams[e[1]] = decodeURIComponent(e[2]);\n  }\n  return hashParams;\n}\n\nfunction checkUrl() {\n  const params = getHashParams();\n  const accessToken = params.access_token\n  if(!accessToken) {\n      return false\n  } else {\n      return accessToken\n  }\n}\n\nclass ConnectedApp extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onClick = this.onClick.bind(this);\n    this.state = {drawerActivate: false, drawer: false, open: false};\n    this.createDrawer = this.createDrawer.bind(this);\n    this.destroyDrawer = this.destroyDrawer.bind(this);\n  }\n\n  componentWillMount() {\n    if(window.innerWidth <= 600) {\n      this.setState({drawerActivate:true});\n    }\n    window.addEventListener('resize', () => {\n      if(window.innerWidth <= 600) {\n        this.setState({drawerActivate:true});\n      }\n      else {\n        this.setState({drawerActivate:false})\n      }\n    });\n  }\n\n  componentDidMount() {\n    const accessToken = checkUrl();\n    accessToken ? this.props.logIn({loggedIn: true, accessToken: accessToken}) : this.props.logIn({loggedIn: false, accessToken: null})\n}\n\n  onClick = () => {\n    axios.post('/login')\n        .then(res => {\n            window.open(res.data,'_self');\n        })\n        .catch(err => {\n            console.log(err);\n        })\n}\n\n  createDrawer() {\n    return (\n      <div>\n        <AppBar>\n          <Toolbar>\n            <Grid container direction='row' justify='space-between' alignItems='center'>\n              <MenuIcon\n                open={this.state.open}\n                className={this.props.classes.sideBarIcon}\n                onClick={()=>{this.setState({drawer:true, open: true})}} />\n              <Typography color='inherit' variant='headline'>\n              What's in a Song\n              </Typography>\n            </Grid>\n          </Toolbar>\n        </AppBar>\n\n        <SwipeableDrawer\n          open={this.state.drawer}\n          onClose={()=>{this.setState({drawer:false})}}\n          onOpen={()=>{this.setState({drawer:true})}}>\n          <div\n            tabIndex={0}\n            role='button'\n            onClick={()=>{this.setState({drawer:false})}}\n            onKeyDown={()=>{this.setState({drawer:false})}}\n          >\n            <List className={this.props.classes.list}>\n              <ListItem key={1} button divider component={Link} to='/'>\n                Main Search\n              </ListItem>\n              <ListItem key={2} button divider component={Link} to='/playlist'>\n                Playlist Creator\n              </ListItem>\n            </List>  \n          </div>  \n        </SwipeableDrawer>\n      </div>\n    );\n  }\n\n  destroyDrawer(){\n    const {classes} = this.props\n    return (\n        <AppBar position='static' className={classes.navbar} >\n            <Toolbar color='inherit'>\n              <Button color='inherit' component={Link} to='/'>\n                What's in a Song\n              </Button>\n              <Button color='inherit' component={Link} to='/'>\n                Search\n              </Button>\n              <Button color='inherit' component={Link} to='/playlist'>\n                Playlist Creator\n              </Button>\n              <Button color='inherit' onClick={this.onClick}>\n                  {this.props.accessToken ? 'Logged In':'Log In'}\n              </Button>\n            </Toolbar>\n          </AppBar>\n    )\n  }\n\n  render() {\n    const {classes} = this.props;\n    return (\n      <Router>\n        <div className={classes.root}>\n          {this.state.drawerActivate ? this.createDrawer() : this.destroyDrawer()}\n          <br />\n          <Route path = '/' exact component={MainSearch} />\n          <Route path='/playlist' exact component={PlaylistCreator} />\n        </div>\n      </Router>\n    );\n  }\n}\n\nConnectedApp.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\n\nconst App = connect(mapStateToProps, mapDispatchToProps)(ConnectedApp);\n\nexport default withStyles(styles)(App);\n"]},"metadata":{},"sourceType":"module"}