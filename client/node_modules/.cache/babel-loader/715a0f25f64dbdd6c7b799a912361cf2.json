{"ast":null,"code":"import _classCallCheck from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/DuhLite/Documents/music-search/client/src/components/playlist-creator.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\n\nfunction getHashParams() {\n  var hashParams = {};\n  var e,\n      r = /([^&;=]+)=?([^&;]*)/g,\n      q = window.location.hash.substring(1);\n\n  while (e = r.exec(q)) {\n    hashParams[e[1]] = decodeURIComponent(e[2]);\n  }\n\n  return hashParams;\n}\n\nfunction checkUrl() {\n  var params = getHashParams();\n  var accessToken = params.access_token;\n\n  if (!accessToken) {\n    return false;\n  } else {\n    return accessToken;\n  }\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    artist: state.previous_artist,\n    song: state.previous_song\n  };\n};\n\nvar ConnectedPlaylistCreator =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ConnectedPlaylistCreator, _Component);\n\n  function ConnectedPlaylistCreator(props) {\n    var _this;\n\n    _classCallCheck(this, ConnectedPlaylistCreator);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ConnectedPlaylistCreator).call(this, props));\n\n    _this.onClick = function () {\n      axios.post('http://localhost:5000/login').then(function (res) {\n        console.log(res.data);\n        window.open(res.data, '_self');\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.state = {\n      loggedIn: false,\n      accessToken: ''\n    };\n    _this.onClick = _this.onClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ConnectedPlaylistCreator, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var accessToken = checkUrl();\n      accessToken ? this.setState({\n        loggedIn: true,\n        accessToken: accessToken\n      }) : this.setState({\n        loggedIn: false,\n        accessToken: ''\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.onClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, !this.state.loggedIn ? 'Log In' : 'Logged In'), React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Song Title\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        id: \"songSearch\",\n        ref: this.input,\n        defaultValue: this.props.song,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Artist Name\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        id: \"artistSearch\",\n        ref: this.input,\n        defaultValue: this.props.artist,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Submit\",\n        className: \"btn btn-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return ConnectedPlaylistCreator;\n}(Component);\n\nvar PlaylistCreator = connect(mapStateToProps)(ConnectedPlaylistCreator);\nexport default PlaylistCreator;","map":{"version":3,"sources":["/Users/DuhLite/Documents/music-search/client/src/components/playlist-creator.js"],"names":["React","Component","connect","axios","getHashParams","hashParams","e","r","q","window","location","hash","substring","exec","decodeURIComponent","checkUrl","params","accessToken","access_token","mapStateToProps","state","artist","previous_artist","song","previous_song","ConnectedPlaylistCreator","props","onClick","post","then","res","console","log","data","open","catch","err","loggedIn","bind","setState","onSubmit","input","PlaylistCreator"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport axios from 'axios';\n\nfunction getHashParams() {\n    var hashParams = {};\n    var e, r = /([^&;=]+)=?([^&;]*)/g,\n        q = window.location.hash.substring(1);\n    while ( e = r.exec(q)) {\n       hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n    return hashParams;\n  }\n\nfunction checkUrl() {\n    const params = getHashParams();\n    const accessToken = params.access_token\n    if(!accessToken) {\n        return false\n    } else {\n        return accessToken\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        artist: state.previous_artist,\n        song: state.previous_song\n    }\n}\n\nclass ConnectedPlaylistCreator extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loggedIn: false,\n            accessToken: ''\n        }\n\n        this.onClick = this.onClick.bind(this)\n    }\n\n    componentDidMount() {\n        const accessToken = checkUrl();\n        accessToken ? this.setState({loggedIn: true, accessToken: accessToken}) : this.setState({loggedIn: false, accessToken: ''})\n    }\n\n    onClick = () => {\n        axios.post('http://localhost:5000/login')\n            .then(res => {\n                console.log(res.data);\n                window.open(res.data,'_self');\n            })\n            .catch(err => {\n                console.log(err);\n            })\n    }\n\n    render() {\n        return (\n            <div>\n                <button onClick={this.onClick}>{!this.state.loggedIn ? 'Log In' : 'Logged In'}</button>\n            <form onSubmit={this.onSubmit}>\n                <div className='form-group'>\n                    <label>Song Title</label>\n                    <input\n                        type='text'\n                        className='form-control'\n                        id='songSearch'\n                        ref={this.input}\n                        defaultValue={this.props.song}\n                        />\n                </div>\n                <div className='form-group'>\n                    <label>Artist Name</label>\n                    <input\n                        type='text'\n                        className='form-control'\n                        id='artistSearch'\n                        ref={this.input}\n                        defaultValue={this.props.artist}\n                        />\n                </div>\n                <div className='form-group'>\n                <input \n                    type='submit'\n                    value=\"Submit\" \n                    className='btn btn-success'\n                    />\n                </div>\n            </form>\n            </div>\n        )\n    }\n}\n\nconst PlaylistCreator = connect(mapStateToProps)(ConnectedPlaylistCreator);\n\nexport default PlaylistCreator;"]},"metadata":{},"sourceType":"module"}