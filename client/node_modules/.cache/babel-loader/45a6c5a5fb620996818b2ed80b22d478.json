{"ast":null,"code":"import _classCallCheck from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/DuhLite/Documents/music-search/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/DuhLite/Documents/music-search/client/src/App.js\";\nimport React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { logIn as _logIn } from \"./actions/index\";\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport MenuIcon from '@material-ui/core/Menu';\nimport MainSearch from './components/search';\nimport PlaylistCreator from './components/playlist-creator';\nimport IconButton from '@material-ui/core/IconButton';\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loggedin: state.loggedin,\n    accessToken: state.accessToken\n  };\n};\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    logIn: function logIn(login) {\n      return dispatch(_logIn(login));\n    }\n  };\n}\n\nfunction getHashParams() {\n  var hashParams = {};\n  var e,\n      r = /([^&;=]+)=?([^&;]*)/g,\n      q = window.location.hash.substring(1);\n\n  while (e = r.exec(q)) {\n    hashParams[e[1]] = decodeURIComponent(e[2]);\n  }\n\n  return hashParams;\n}\n\nfunction checkUrl() {\n  var params = getHashParams();\n  var accessToken = params.access_token;\n\n  if (!accessToken) {\n    return false;\n  } else {\n    return accessToken;\n  }\n}\n\nvar ConnectedApp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ConnectedApp, _Component);\n\n  function ConnectedApp(props) {\n    var _this;\n\n    _classCallCheck(this, ConnectedApp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ConnectedApp).call(this, props));\n\n    _this.onClick = function () {\n      axios.post('/login').then(function (res) {\n        console.log(res.data);\n        window.open(res.data, '_self');\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.onClick = _this.onClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ConnectedApp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var accessToken = checkUrl();\n      accessToken ? this.props.logIn({\n        loggedIn: true,\n        accessToken: accessToken\n      }) : this.props.logIn({\n        loggedIn: false,\n        accessToken: null\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Router, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(AppBar, {\n        position: \"static\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(Toolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        color: \"inherit\",\n        \"aria-label\": \"Menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(MenuIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      })), React.createElement(Button, {\n        color: \"inherit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        className: \"nav-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"What's in a Song\")), React.createElement(Button, {\n        color: \"inherit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        className: \"nav-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Search\")), React.createElement(Button, {\n        color: \"inherit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/playlist\",\n        className: \"nav-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"Playlist Creator\")), React.createElement(Button, {\n        color: \"inherit\",\n        onClick: this.onClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, this.props.accessToken ? 'Logged In' : 'Log In'))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/\",\n        exact: true,\n        component: MainSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/playlist\",\n        exact: true,\n        component: PlaylistCreator,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return ConnectedApp;\n}(Component);\n\nvar App = connect(mapStateToProps, mapDispatchToProps)(ConnectedApp);\nexport default App;","map":{"version":3,"sources":["/Users/DuhLite/Documents/music-search/client/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Link","axios","connect","logIn","AppBar","Toolbar","Button","MenuIcon","MainSearch","PlaylistCreator","IconButton","mapStateToProps","state","loggedin","accessToken","mapDispatchToProps","dispatch","login","getHashParams","hashParams","e","r","q","window","location","hash","substring","exec","decodeURIComponent","checkUrl","params","access_token","ConnectedApp","props","onClick","post","then","res","console","log","data","open","catch","err","bind","loggedIn","App"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {BrowserRouter as Router, Route, Link} from 'react-router-dom';\nimport axios from 'axios';\nimport {connect} from 'react-redux';\nimport { logIn } from \"./actions/index\";\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport MenuIcon from '@material-ui/core/Menu';\n\nimport MainSearch from './components/search';\nimport PlaylistCreator from './components/playlist-creator';\nimport IconButton from '@material-ui/core/IconButton';\n\n\nconst mapStateToProps = state => {\n  return {\n    loggedin: state.loggedin,\n    accessToken: state.accessToken\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    logIn:login => dispatch(logIn(login))\n  }\n}\n\nfunction getHashParams() {\n  var hashParams = {};\n  var e, r = /([^&;=]+)=?([^&;]*)/g,\n      q = window.location.hash.substring(1);\n  while ( e = r.exec(q)) {\n     hashParams[e[1]] = decodeURIComponent(e[2]);\n  }\n  return hashParams;\n}\n\nfunction checkUrl() {\n  const params = getHashParams();\n  const accessToken = params.access_token\n  if(!accessToken) {\n      return false\n  } else {\n      return accessToken\n  }\n}\n\nclass ConnectedApp extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n\n  componentDidMount() {\n    const accessToken = checkUrl();\n    accessToken ? this.props.logIn({loggedIn: true, accessToken: accessToken}) : this.props.logIn({loggedIn: false, accessToken: null})\n}\n\n  onClick = () => {\n    axios.post('/login')\n        .then(res => {\n            console.log(res.data);\n            window.open(res.data,'_self');\n        })\n        .catch(err => {\n            console.log(err);\n        })\n}\n  render() {\n    return (\n      <Router>\n        <div >\n          <AppBar position='static'>\n            <Toolbar>\n              <IconButton color='inherit' aria-label='Menu'>\n                <MenuIcon />\n              </IconButton>\n              <Button color='inherit'>\n                <Link to='/' className='nav-link'>\n                What's in a Song\n                </Link>\n              </Button>\n              <Button color='inherit'>\n                <Link to='/' className='nav-link'>Search</Link>\n              </Button>\n              <Button color='inherit'>\n                <Link to='/playlist' className='nav-link'>\n                Playlist Creator\n                </Link>\n              </Button>\n              <Button\n                  color='inherit'\n                  \n                  onClick={this.onClick}>\n                  {this.props.accessToken ? 'Logged In':'Log In'}\n              </Button>\n            </Toolbar>\n          </AppBar>\n          <br />\n          <Route path = '/' exact component={MainSearch} />\n          <Route path='/playlist' exact component={PlaylistCreator} />\n        </div>\n      </Router>\n    );\n  }\n}\n\nconst App = connect(mapStateToProps, mapDispatchToProps)(ConnectedApp);\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}